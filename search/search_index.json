{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"index.html","text":"Welcome to the User Manual for Tool 3 This Tool is part of a suite of genome analysis tools that explore bacterial genomes. The suite includes: Application Description The Core Genome assembly, taxonomic classification, phylogeny, annotation and mass screening. Tool 1 Mass screening with curated databases. Tool 2 Mass screening with genes you choose. Tool 3 Comparison of genomes, and phylogeny. Tool 4 Primer design: identification of unique stretches of DNA. They are built with the pipeline manager Nextflow , and operate within Singularity containers. The suite was developed as part of a collaborative project between Volac International Ltd . and Cardiff University , partly funded by Innovate UK as part of a knowledge transfer partnership (KTP) . What is Tool 3 for? Tool 3 compares the gene make up between strains. You might want to discover which genes are unique to a particular strain, or which strains are most closely related. What does Tool 3 do? Tool 3 compares the genomes of two or more bacterial strains. It looks at their annotated genomes and reports the presence or absence of every gene, for all strains. For example, Tool 3 reports which genes are present in every strain; these are the core genes. Also, which genes are unique to a strain. Additionally, Tool 3 draws a tree based on this comparison. Tool 3 utilses the Roary and FastTree software tools.","title":"Introduction"},{"location":"index.html#welcome-to-the-user-manual-for-tool-3","text":"This Tool is part of a suite of genome analysis tools that explore bacterial genomes. The suite includes: Application Description The Core Genome assembly, taxonomic classification, phylogeny, annotation and mass screening. Tool 1 Mass screening with curated databases. Tool 2 Mass screening with genes you choose. Tool 3 Comparison of genomes, and phylogeny. Tool 4 Primer design: identification of unique stretches of DNA. They are built with the pipeline manager Nextflow , and operate within Singularity containers. The suite was developed as part of a collaborative project between Volac International Ltd . and Cardiff University , partly funded by Innovate UK as part of a knowledge transfer partnership (KTP) .","title":"Welcome to the User Manual for Tool 3"},{"location":"index.html#what-is-tool-3-for","text":"Tool 3 compares the gene make up between strains. You might want to discover which genes are unique to a particular strain, or which strains are most closely related.","title":"What is Tool 3 for?"},{"location":"index.html#what-does-tool-3-do","text":"Tool 3 compares the genomes of two or more bacterial strains. It looks at their annotated genomes and reports the presence or absence of every gene, for all strains. For example, Tool 3 reports which genes are present in every strain; these are the core genes. Also, which genes are unique to a strain. Additionally, Tool 3 draws a tree based on this comparison. Tool 3 utilses the Roary and FastTree software tools.","title":"What does Tool 3 do?"},{"location":"access_3.html","text":"Logging in Connect your local computer to the server. MobaXterm , the enhanced terminal for Windows is recommended. Folders can be found in the side bar to the left. Folders and files can be directly dragged and dropped between your personal computer and the Tool. This Tool is located inside the genome_store folder. Opening a stable connection (recommended) You currently have access to the Tool if you have completed the above section. However, sometimes the network connection between the computer that you are using and the machine where the Tool is located can break. If the Tool is running when the connection breaks, even if the break is only brief, the Tool will stop. You can tell if this has happen because your terminal\u2019s window will freeze; there may also be a partially populated output folder. A terminal multiplexer (tmux) solves this. A terminal multiplexer allows the user to start a session and then detach, so a remote process continues running even when the user is disconnected. It also has the benefit of allowing the user to detach from one computer and reattach using a different computer. To initiate a tmux session in the Appliance terminal window enter: tmux new -s <name> Example This is the code to set up a stable tmux connection named Idris: tmux new -s Idris Tip You can set up multiple tmux sessions; give each one a different name. To detach from a session hold down the Ctrl key and press b , release both keys, then press d . To list existing tmux sessions use tmux ls . To reconnect to an existing session use tmux a -t <name> .","title":"Accessing the server"},{"location":"access_3.html#logging-in","text":"Connect your local computer to the server. MobaXterm , the enhanced terminal for Windows is recommended. Folders can be found in the side bar to the left. Folders and files can be directly dragged and dropped between your personal computer and the Tool. This Tool is located inside the genome_store folder.","title":"Logging in"},{"location":"access_3.html#opening-a-stable-connection-recommended","text":"You currently have access to the Tool if you have completed the above section. However, sometimes the network connection between the computer that you are using and the machine where the Tool is located can break. If the Tool is running when the connection breaks, even if the break is only brief, the Tool will stop. You can tell if this has happen because your terminal\u2019s window will freeze; there may also be a partially populated output folder. A terminal multiplexer (tmux) solves this. A terminal multiplexer allows the user to start a session and then detach, so a remote process continues running even when the user is disconnected. It also has the benefit of allowing the user to detach from one computer and reattach using a different computer. To initiate a tmux session in the Appliance terminal window enter: tmux new -s <name> Example This is the code to set up a stable tmux connection named Idris: tmux new -s Idris Tip You can set up multiple tmux sessions; give each one a different name. To detach from a session hold down the Ctrl key and press b , release both keys, then press d . To list existing tmux sessions use tmux ls . To reconnect to an existing session use tmux a -t <name> .","title":"Opening a stable connection (recommended)"},{"location":"faq_3.html","text":"Which strains can you compare? You can compare any bacterial strains. Practically, the strains you have available to use are those strains in the Tool 3 libraries. These include the strains that have been sequenced as part of this project, and also a selection of reference strains. How many strains can you compare? You can compare two or more strains. It is recommended that you limit strains to only those that are essential for your query. The more genomes you compare the longer Tool 3 will take to run and the larger and more complex the output files will be. Although the application can compare more than 100 strains, comparing 12 strains would be a lot. What is the best way to select strains? This will largely depend on what question you want to answer. Tool 3 will give you the best results when comparing closely related strains rather than very diverse strains. It may be useful to look at phylogenetic trees when selecting strains. What information does Tool 3 need? Tool 3 compares annotated genome files. Tool 3 is pre-populated with two libraries: one library contains the annotated files for every sequenced isolate, and the other library contains the annotated files for various reference genomes. You will find these files in folders LIBRARY_query and LIBRARY_reference . The file type is .gff , which can be generated by prokka . How do you run Tool 3? A step-by-step guide can be found in the following sections. Briefly, once you have chosen which strains you wish to compare, copy the relevant annotation files ( .gff ) from the libraries to the input directory ( input_tool3 ), set up a stable connection to the server and run the tool_3.nf script. Your output files will be deposited in the output directory ( output_tool3 ). To find out more about how to change the default settings visit 'More options'. How much time does Tool 3 take to run? A comparison of 2 strains can take as little as 12 minutes. The more strains you compare the longer it takes. What are the different folders for? The Tool 3 file system contains the following folders: Directory names Description of contents LIBRARY_query/ The annotated files ( .gff ) for all sequenced isolates. LIBRARY_reference/ The annotated files ( .gff ) for the reference sequences. input_tool3/ The analysis will be run on ALL .gff files in this directory. output_tool3/ Your output data will be deposited here in subdirectories. work/ The Nextflow working directory. What documents are made by Tool 3? Tool 3 provides the following outputs (listed alphabetically): accessory_binary_genes.fa accessory_binary_genes.fa.newick * accessory_graph.dot accessory.header.embl accessory.tab blast_identity_frequency.Rtab clustered_proteins core_accessory_graph.dot core_accessory.header.embl core_accessory.tab core_alignment_header.embl core_gene_alignment.aln gene_presence_absence.csv gene_presence_absence.Rtab number_of_conserved_genes.Rtab number_of_genes_in_pan_genome.Rtab number_of_new_genes.Rtab number_of_unique_genes.Rtab pan_genome_reference.fa summary_statistics.txt (*) output is only made if more than 2 strains are compared. The outputs you will probably use the most are: a text document summarising the total number of core genes shared between isolates (summary_statistics.txt), a spreadsheet showing presence/absence for every detected gene within your query isolates (gene_presence_absence.csv), two files that can be viewed as phylogenetic trees (.newick). One that generates a tree based on an alignment of the core genes. And a second, created based on the binary presence and absence of accessory genes. How do you view the output files? You can open the files in a spreadsheet (e.g. MS Excel), a text editor (e.g. MS Word), or Mega / iTOL . When opening the .csv file note it contains comma separated values (not tab separated). Can I change the settings of Tool 3? Yes, you can modify the two different settings: identity and core Using the default settings a gene must be present in 99% of the strains to be counted as a core gene, and have a minimum percentage identity (for blastp) of 95%. These can be altered when you set Tool 3 to run. For all runs, the settings are recorded in the name of the newly created output folder, e.g. the results of a run named dylan using default settings will be stored in this folder: output_dylan-i95-core99/ . Where can I find further information about Tool 3? Tool 3 uses two software tools named roary and fast tree. Roary information page at Sanger Pathogens The FastTree information page can be found at Microbes Online .","title":"FAQs"},{"location":"faq_3.html#which-strains-can-you-compare","text":"You can compare any bacterial strains. Practically, the strains you have available to use are those strains in the Tool 3 libraries. These include the strains that have been sequenced as part of this project, and also a selection of reference strains.","title":"Which strains can you compare?"},{"location":"faq_3.html#how-many-strains-can-you-compare","text":"You can compare two or more strains. It is recommended that you limit strains to only those that are essential for your query. The more genomes you compare the longer Tool 3 will take to run and the larger and more complex the output files will be. Although the application can compare more than 100 strains, comparing 12 strains would be a lot.","title":"How many strains can you compare?"},{"location":"faq_3.html#what-is-the-best-way-to-select-strains","text":"This will largely depend on what question you want to answer. Tool 3 will give you the best results when comparing closely related strains rather than very diverse strains. It may be useful to look at phylogenetic trees when selecting strains.","title":"What is the best way to select strains?"},{"location":"faq_3.html#what-information-does-tool-3-need","text":"Tool 3 compares annotated genome files. Tool 3 is pre-populated with two libraries: one library contains the annotated files for every sequenced isolate, and the other library contains the annotated files for various reference genomes. You will find these files in folders LIBRARY_query and LIBRARY_reference . The file type is .gff , which can be generated by prokka .","title":"What information does Tool 3 need?"},{"location":"faq_3.html#how-do-you-run-tool-3","text":"A step-by-step guide can be found in the following sections. Briefly, once you have chosen which strains you wish to compare, copy the relevant annotation files ( .gff ) from the libraries to the input directory ( input_tool3 ), set up a stable connection to the server and run the tool_3.nf script. Your output files will be deposited in the output directory ( output_tool3 ). To find out more about how to change the default settings visit 'More options'.","title":"How do you run Tool 3?"},{"location":"faq_3.html#how-much-time-does-tool-3-take-to-run","text":"A comparison of 2 strains can take as little as 12 minutes. The more strains you compare the longer it takes.","title":"How much time does Tool 3 take to run?"},{"location":"faq_3.html#what-are-the-different-folders-for","text":"The Tool 3 file system contains the following folders: Directory names Description of contents LIBRARY_query/ The annotated files ( .gff ) for all sequenced isolates. LIBRARY_reference/ The annotated files ( .gff ) for the reference sequences. input_tool3/ The analysis will be run on ALL .gff files in this directory. output_tool3/ Your output data will be deposited here in subdirectories. work/ The Nextflow working directory.","title":"What are the different folders for?"},{"location":"faq_3.html#what-documents-are-made-by-tool-3","text":"Tool 3 provides the following outputs (listed alphabetically): accessory_binary_genes.fa accessory_binary_genes.fa.newick * accessory_graph.dot accessory.header.embl accessory.tab blast_identity_frequency.Rtab clustered_proteins core_accessory_graph.dot core_accessory.header.embl core_accessory.tab core_alignment_header.embl core_gene_alignment.aln gene_presence_absence.csv gene_presence_absence.Rtab number_of_conserved_genes.Rtab number_of_genes_in_pan_genome.Rtab number_of_new_genes.Rtab number_of_unique_genes.Rtab pan_genome_reference.fa summary_statistics.txt (*) output is only made if more than 2 strains are compared. The outputs you will probably use the most are: a text document summarising the total number of core genes shared between isolates (summary_statistics.txt), a spreadsheet showing presence/absence for every detected gene within your query isolates (gene_presence_absence.csv), two files that can be viewed as phylogenetic trees (.newick). One that generates a tree based on an alignment of the core genes. And a second, created based on the binary presence and absence of accessory genes.","title":"What documents are made by Tool 3?"},{"location":"faq_3.html#how-do-you-view-the-output-files","text":"You can open the files in a spreadsheet (e.g. MS Excel), a text editor (e.g. MS Word), or Mega / iTOL . When opening the .csv file note it contains comma separated values (not tab separated).","title":"How do you view the output files?"},{"location":"faq_3.html#can-i-change-the-settings-of-tool-3","text":"Yes, you can modify the two different settings: identity and core Using the default settings a gene must be present in 99% of the strains to be counted as a core gene, and have a minimum percentage identity (for blastp) of 95%. These can be altered when you set Tool 3 to run. For all runs, the settings are recorded in the name of the newly created output folder, e.g. the results of a run named dylan using default settings will be stored in this folder: output_dylan-i95-core99/ .","title":"Can I change the settings of Tool 3?"},{"location":"faq_3.html#where-can-i-find-further-information-about-tool-3","text":"Tool 3 uses two software tools named roary and fast tree. Roary information page at Sanger Pathogens The FastTree information page can be found at Microbes Online .","title":"Where can I find further information about Tool 3?"},{"location":"glossary_3.html","text":"Glossary Term Description core genes only the genes that are present in EVERY strain pan genome the entire complement of genes; every gene from every strain accessory genes the genes that are not core genes Soft shell genes 95% <= strains < 99% Shell genes 15% <= strains < 95% Cloud genes 0% <= strains < 15%","title":"Glossary"},{"location":"glossary_3.html#glossary","text":"Term Description core genes only the genes that are present in EVERY strain pan genome the entire complement of genes; every gene from every strain accessory genes the genes that are not core genes Soft shell genes 95% <= strains < 99% Shell genes 15% <= strains < 95% Cloud genes 0% <= strains < 15%","title":"Glossary"},{"location":"loading_3.html","text":"Loading your query genomes The quickest way to load query files is to copy them to your person computer, and then copy them to the input folder(s). Make a new folder on your personal computer and copy (drag and drop) all the files you want to compare to this folder. The query files are found in the library folders: ~/genome_tools/Tool_3/LIBRARY_query and ~/genome_tools/Tool_3/LIBRARY_reference Now copy them to the Tool 3 input folder. It is found here: ~/genome_tools/input_tool3 Make sure the input folder is empty before coping any files; all files in this folder will be analysed, including any remaining from a previous run.","title":"Loading query genomes"},{"location":"loading_3.html#loading-your-query-genomes","text":"The quickest way to load query files is to copy them to your person computer, and then copy them to the input folder(s). Make a new folder on your personal computer and copy (drag and drop) all the files you want to compare to this folder. The query files are found in the library folders: ~/genome_tools/Tool_3/LIBRARY_query and ~/genome_tools/Tool_3/LIBRARY_reference Now copy them to the Tool 3 input folder. It is found here: ~/genome_tools/input_tool3 Make sure the input folder is empty before coping any files; all files in this folder will be analysed, including any remaining from a previous run.","title":"Loading your query genomes"},{"location":"options_3.html","text":"Additional settings Tool 3 has two settings that you can change: identity and core . Identity is defined as the minimum percentage for blastp (default `95`). Core is defined as the percentage of isolates a gene must be in to be core (default `99`). You can specify these settings in the same way that you gave the job a name by using: --perIdentity 'bbb' and/or --perCore 'ccc' If both additional options are used, the format of the command is: nextflow run tool_3.nf --runID 'aaa' --perIdentity 'bbb' \u2013-perCore 'ccc' Substitute aaa +/ bbb +/ ccc with the actual parameter you wish to use. Example 1 nextflow run tool_3.nf \u2013-runID 'meredith' Tool 3 will run using the default 99% core and default 95% minimum identity for blastp, and name the output folder meredith. Example 2 nextflow run tool_3.nf \u2013-runID 'maddox' --perCore '70' Tool 3 will run using the default 95% minimum identity for blastp, 70% core, and name the output folder maddox. Example 3 nextflow run tool_3.nf \u2013-runID 'morgan' --perIdentity '90' --perCore '70' Tool 3 will run using 90% minimum identity for blastp, 70% core, and name the output folder morgan.","title":"Customisation"},{"location":"options_3.html#additional-settings","text":"Tool 3 has two settings that you can change: identity and core . Identity is defined as the minimum percentage for blastp (default `95`). Core is defined as the percentage of isolates a gene must be in to be core (default `99`). You can specify these settings in the same way that you gave the job a name by using: --perIdentity 'bbb' and/or --perCore 'ccc' If both additional options are used, the format of the command is: nextflow run tool_3.nf --runID 'aaa' --perIdentity 'bbb' \u2013-perCore 'ccc' Substitute aaa +/ bbb +/ ccc with the actual parameter you wish to use. Example 1 nextflow run tool_3.nf \u2013-runID 'meredith' Tool 3 will run using the default 99% core and default 95% minimum identity for blastp, and name the output folder meredith. Example 2 nextflow run tool_3.nf \u2013-runID 'maddox' --perCore '70' Tool 3 will run using the default 95% minimum identity for blastp, 70% core, and name the output folder maddox. Example 3 nextflow run tool_3.nf \u2013-runID 'morgan' --perIdentity '90' --perCore '70' Tool 3 will run using 90% minimum identity for blastp, 70% core, and name the output folder morgan.","title":"Additional settings"},{"location":"quick_3.html","text":"Quick start commands Deposit the assembled genomes of the strains you want to compare in the input_tool3 folder. Set up a stable connection: tmux new -s To run Tool 3: nextflow run tool_3.nf --runID ' ' [options] Options Term Description Default --runID 'aaa' name chosen by user not_specified --identity 'bbb' minimum percentage identity for blastp 99 --core 'ccc' percentage of isolates a gene must be in to be core 95 Example nextflow run tool_3.nf --runID 'arwen' --identity '90' --core '75' Tip To view the Quick start instructions from the command line use: nextflow run tool_3.nf --help","title":"Quick start"},{"location":"quick_3.html#quick-start-commands","text":"Deposit the assembled genomes of the strains you want to compare in the input_tool3 folder. Set up a stable connection: tmux new -s To run Tool 3: nextflow run tool_3.nf --runID ' ' [options]","title":"Quick start commands"},{"location":"quick_3.html#options","text":"Term Description Default --runID 'aaa' name chosen by user not_specified --identity 'bbb' minimum percentage identity for blastp 99 --core 'ccc' percentage of isolates a gene must be in to be core 95 Example nextflow run tool_3.nf --runID 'arwen' --identity '90' --core '75' Tip To view the Quick start instructions from the command line use: nextflow run tool_3.nf --help","title":"Options"},{"location":"running_3.html","text":"Running Tool 3 In order to run Tool 3 you need to enter two commands in the Terminal window. The Terminal is the black window within the right side of the MobaXterm window. First enter this command: cd ~/genome_tools/Tool_3 Then enter this command. Replace aaa with your chosen database: nextflow run tool_3.nf --runID 'aaa' Example nextflow run miniApp3.nf --runID 'all_MTD1' Info If you do not include --runID 'aaa' your output folder will be named not_specified . You may want to record which strains you submit to each job in a spreadsheet.","title":"Initiating Tool 3"},{"location":"running_3.html#running-tool-3","text":"In order to run Tool 3 you need to enter two commands in the Terminal window. The Terminal is the black window within the right side of the MobaXterm window. First enter this command: cd ~/genome_tools/Tool_3 Then enter this command. Replace aaa with your chosen database: nextflow run tool_3.nf --runID 'aaa' Example nextflow run miniApp3.nf --runID 'all_MTD1' Info If you do not include --runID 'aaa' your output folder will be named not_specified . You may want to record which strains you submit to each job in a spreadsheet.","title":"Running Tool 3"},{"location":"troubleshooting_3.html","text":"Troubleshooting These are some common remedies: It is (usually) safer to copy and paste commands To avoid spellling error use the \u2018tab\u2019 key to auto-complete Do the hyphens or inverted commas need to be re-typed? Are the spaces in the correct place? Is the command prompt in the correct directory (folder)? Is the login connection still active Is the input file named correctly? Never use {} or [] in file names. If these fail, ask for help.","title":"Troubleshooting"},{"location":"troubleshooting_3.html#troubleshooting","text":"These are some common remedies: It is (usually) safer to copy and paste commands To avoid spellling error use the \u2018tab\u2019 key to auto-complete Do the hyphens or inverted commas need to be re-typed? Are the spaces in the correct place? Is the command prompt in the correct directory (folder)? Is the login connection still active Is the input file named correctly? Never use {} or [] in file names. If these fail, ask for help.","title":"Troubleshooting"},{"location":"unloading_3.html","text":"Downloading the output files To transfer the files to your personal computer drag and drop. Each time Tool 3 runs it makes a new folder inside the output folder, output_tool3 . The new output folder can be found here: ~/genome_tools/Tool_3/output_tool3/ The name of the new folder output_aaa-bbb-ccc/ includes the run I.D. ( aaa ), as well as the identity and core settings ( bbb and ccc ).","title":"Downloading outputs"},{"location":"unloading_3.html#downloading-the-output-files","text":"To transfer the files to your personal computer drag and drop. Each time Tool 3 runs it makes a new folder inside the output folder, output_tool3 . The new output folder can be found here: ~/genome_tools/Tool_3/output_tool3/ The name of the new folder output_aaa-bbb-ccc/ includes the run I.D. ( aaa ), as well as the identity and core settings ( bbb and ccc ).","title":"Downloading the output files"}]}